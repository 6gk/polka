#!/bin/bash

muted="$(amixer -D pulse get Master | grep -i "\[off\]\|\[on\]" | awk '{print $6}' | sed -e '1!d' -e 's/\[//' -e 's/\]//')"

if [[ $muted = on ]]; then
    mute="mute"
elif [[ $muted = off ]]; then
    mute="unmute"
fi

[[ -n $2 ]] && p="$2" || p="5"

case $1 in 
    up)    amixer -D pulse sset Master $p%+ >/dev/null;;
    down)  amixer -D pulse sset Master $p%- >/dev/null;;
    mute)  amixer -D pulse sset Master $mute >/dev/null;;
    pause) playerctl pause;;
    play)  playerctl play;;
    pp)    playerctl pause-play;;
    next)  playerctl next;;
    prev)  playerctl previous;;
    previous) playerctl previous;;
esac

p_vol.sh