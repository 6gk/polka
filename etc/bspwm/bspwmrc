#!/bin/sh
#
#  bspwmrc
#


# desktops
bspc monitor HDMI-0  -d   1 2 3 4 5 6
bspc monitor DVI-D-0 -d    7 8 9 10
# fix ordering
bspc monitor DVI-D-0 -s HDMI-0

_() { bspc config "$@"; }

# mouse
xsetroot -cursor_name       left_ptr
_ pointer_modifier          mod1
_ pointer_motion_interval   10

_ focus_follows_pointer     true
_ pointer_follows_focus     false


# borders/gaps
_ window_gap                40
_ gapless_monocle           true

_ border_width              16
_ borderless_monocle        true
_ normal_border_color       '#2f3945'
_ active_border_color       '#2f3945'
_ focused_border_color      '#2f3945'


# other
_ single_monocle            true


#
#   rules
#
bspc rule -a feh            state=floating
bspc rule -a feh-nb         state=floating border=off monitor="$(lsm -p)"
bspc rule -a tabbed         state=floating
bspc rule -a Gcolor3        state=floating
bspc rule -a floating       state=floating


#
#   autostart
#

s() { pkill "$1"; { sleep 0.1; "$@"; } & }
borders &
s picom
s dunst
s sxhkd

# bspwm-specific keybindings
sxhkd -c "${XDG_CONFIG_HOME:-~/.config}/sxhkd/bspwm" &
